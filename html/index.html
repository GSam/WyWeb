<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="utf-8" />
      <title>Whiley on the Web!</title>
      <link rel="stylesheet" href="css/style.css">
      <link href="css/bootstrap.min.css" rel="stylesheet">
      <link rel="shortcut icon" href="http://whiley.org/wp-content/themes/atahualpa351/images/favicon/whileyfav.ico" />
      <link rel="stylesheet" href="css/jstree.css">
      <script type="text/javascript" src="js/jquery.js"></script>
      <script type="text/javascript" src="js/jquery-ui.js"></script>
	  <script type="text/javascript" src="js/ace.js" charset="utf-8"></script>
      <script type="text/javascript" src="js/jstree.js"></script>
      <script type="text/javascript" src="js/mode-whiley.js"></script>
      <script type="text/javascript">
         var root_url = "${ROOT_URL}";
         var error = "${ERROR}";
         var redirect = "${REDIRECT}";
         var isLoggedIn = ${"true" if LOGGED else "false"};
         var serverFiles = ${FILES};

      </script>
      <script type="text/javascript" src="js/whileyweb.js"></script>
   </head>
   <body>

<style>
.ace-dreamweaver .ace_gutter {
background: #e8e8e8;
color: #333;
}
.ace-dreamweaver .ace_print-margin {
width: 1px;
background: #e8e8e8;
}
.ace-dreamweaver {
background-color: #FFFFFF;
color: black;
}
.ace-dreamweaver .ace_fold {
background-color: #757AD8;
}
.ace-dreamweaver .ace_cursor {
color: black;
}
.ace-dreamweaver .ace_invisible {
color: rgb(191, 191, 191);
}
.ace-dreamweaver .ace_storage,
.ace-dreamweaver .ace_keyword {
color: blue;
}
.ace-dreamweaver .ace_constant.ace_buildin {
color: rgb(88, 72, 246);
}
.ace-dreamweaver .ace_constant.ace_language {
color: rgb(88, 92, 246);
}
.ace-dreamweaver .ace_constant.ace_library {
color: rgb(6, 150, 14);
}
.ace-dreamweaver .ace_invalid {
background-color: rgb(153, 0, 0);
color: white;
}
.ace-dreamweaver .ace_support.ace_function {
color: rgb(60, 76, 114);
}
.ace-dreamweaver .ace_support.ace_constant {
color: rgb(6, 150, 14);
}
.ace-dreamweaver .ace_support.ace_type,
.ace-dreamweaver .ace_support.ace_class {
color: #009;
}
.ace-dreamweaver .ace_support.ace_php_tag {
color: #f00;
}
.ace-dreamweaver .ace_keyword.ace_operator {
color: rgb(104, 118, 135);
}
.ace-dreamweaver .ace_string {
color: #00F;
}
.ace-dreamweaver .ace_comment {
color: rgb(76, 136, 107);
}
.ace-dreamweaver .ace_comment.ace_doc {
color: rgb(0, 102, 255);
}
.ace-dreamweaver .ace_comment.ace_doc.ace_tag {
color: rgb(128, 159, 191);
}
.ace-dreamweaver .ace_constant.ace_numeric {
color: rgb(0, 0, 205);
}
.ace-dreamweaver .ace_variable {
color: #06F
}
.ace-dreamweaver .ace_xml-pe {
color: rgb(104, 104, 91);
}
.ace-dreamweaver .ace_entity.ace_name.ace_function {
color: #00F;
}
.ace-dreamweaver .ace_heading {
color: rgb(12, 7, 255);
}
.ace-dreamweaver .ace_list {
color:rgb(185, 6, 144);
}
.ace-dreamweaver .ace_marker-layer .ace_selection {
background: rgb(181, 213, 255);
}
.ace-dreamweaver .ace_marker-layer .ace_step {
background: rgb(252, 255, 0);
}
.ace-dreamweaver .ace_marker-layer .ace_stack {
background: rgb(164, 229, 101);
}
.ace-dreamweaver .ace_marker-layer .ace_bracket {
margin: -1px 0 0 -1px;
border: 1px solid rgb(192, 192, 192);
}
.ace-dreamweaver .ace_marker-layer .ace_active-line {
background: rgba(0, 0, 0, 0.07);
}
.ace-dreamweaver .ace_gutter-active-line {
background-color : #DCDCDC;
}
.ace-dreamweaver .ace_marker-layer .ace_selected-word {
background: rgb(250, 250, 255);
border: 1px solid rgb(200, 200, 250);
}
.ace-dreamweaver .ace_meta.ace_tag {
color:#009;
}
.ace-dreamweaver .ace_meta.ace_tag.ace_anchor {
color:#060;
}
.ace-dreamweaver .ace_meta.ace_tag.ace_form {
color:#F90;
}
.ace-dreamweaver .ace_meta.ace_tag.ace_image {
color:#909;
}
.ace-dreamweaver .ace_meta.ace_tag.ace_script {
color:#900;
}
.ace-dreamweaver .ace_meta.ace_tag.ace_style {
color:#909;
}
.ace-dreamweaver .ace_meta.ace_tag.ace_table {
color:#099;
}
.ace-dreamweaver .ace_string.ace_regex {
color: rgb(255, 0, 0)
}
.ace-dreamweaver .ace_indent-guide {
background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}
</style>
   <script src="js/ace.js" type="text/javascript" charset="utf-8"></script>
   <script>
       var editor = ace.edit("editor");
	   editor.getSession().setMode("ace/mode/javascript");
   </script>

      <div class="container-fluid content">
      <div class="col-md-1">
      </div>
      <div class="col-md-10">
         <div class="container-fluid" id="container">
            <div class="row topbar">
               <div class="col-md-1">
                  <img src="images/wylogo.png" class="image-responsive"/>
               </div>
               <div class="col-md-11">
                  <p>
                  <h1>Whiley <span id="bold">PLAY</span><br/>
                     <small>From this page, you can run Whiley programs in your browser!  For more on Whiley, visit <a href="http://whiley.org">whiley.org</a>.</small>
                  </h1>
                  </p>
               </div>
            </div>
            <div class="row">
               <nav class="navbar navbar-default" role="navigation">
                  <div class="container-fluid">
                     <form class="navbar-form navbar-left">
                        <div class="form-group">
   			              <button type="button"  class="btn" onClick="save();" title="Create a permalink of this program to share with others.">Share</button>
                        % if LOGGED is True:
                          <button type="button" class="btn btn-primary" onClick="saveToServer();" title="Save your project online.">Save</button>
                        % endif
   			               <button type="button"  class="btn btn-primary" onClick="compile();" title="Compile your program to check it is correct.">Compile</button>
   			              <button type="button"  class="btn btn-primary" onClick="run();" title="Run your program to produce some output!">Run</button>
   			              <!--<a href="admin" class="btn btn-primary" title="Admin">Admin</a>-->
   			              <label class="checkbox inline">
   			        				<input id="verification" type="checkbox" checked="checked" title="Enable or disable compile-time verification" /> Enable Verification
   			    			  </label>
                        </div>
   		            </form>
                     % if LOGGED is True:
                        <form class="navbar-form navbar-right"  method="post" action="/auth/logout" role="login">
                           <button type="submit" class="btn btn-default">Log out</button>
                        </form>
                        <p class="navbar-text navbar-right">Logged in as <a href="#" class="navbar-link">${USERNAME}</a></p>

                     % else:
                        <div class="navbar-right">
                        <form class="navbar-form"  method="post" action="/auth/login" role="login">
                           <div class="form-group">
                              <input type="text" class="form-control" placeholder="Username" name="user">
                              <input type="password" class="form-control" placeholder="Password" name="passwd">
                              <input type="hidden" name="from_page" value="/" />
                           </div>
                           <button type="submit" class="btn btn-default">Log In</button>
                              <a type="submit" class="btn btn-default" href="/auth/signup">Sign Up</a>
                        </form>
                        </div>

                     % endif

                  </div>
                  <!-- /.container-fluid -->
               </nav>
            </div>
            <div class="row">
              <div class="container-fluid" id="content">
           		 <div id="ide" class="col-md-2">
                  	<div class="file-browser">
	                     <div id="file-browser">
								</div>
                     </div>
                    <nav>
                        <button class="btn" onclick="addProject()" title="Create a Project...">+</button>
                    </nav>
                </div>
                <div id="code" class="ace-dreamweaver"></div>
              </div>
               </div>
            <div id="messages"></div>
            <div>
            	<textarea id="console" readonly="readonly"></textarea>
            </div>

         </div>
      </div>
      <div class="col-md-1">
      </div>
      <script type="text/javascript">
         var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
         document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
      </script>
      <script type="text/javascript">
         try {
             var pageTracker = _gat._getTracker("UA-5582165-5");
             pageTracker._trackPageview();
         } catch(err) {}
      </script>
   </body>
</html>
